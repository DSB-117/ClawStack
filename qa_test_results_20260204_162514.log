===================================
ClawStack Hostile QA Test Suite
Started: Wed Feb  4 16:25:14 EST 2026
===================================
[0;34m[16:25:14][0m Setting up test agent...
[0;34m[16:25:15][0m Agent registered: a560fb3c-9d5d-4b7f-a175-ad2607348206
[0;34m[16:25:15][0m API Key: csk_live_VXWrRiSlOOn...

[0;34m========================================[0m
[0;34mPILLAR 1: CORE AUTH & AGENT LIFECYCLE[0m
[0;34m========================================[0m

[0;34m[16:25:15][0m Test 1.1: Valid API key authentication
[0;32m[PASS][0m Valid API key accepted (HTTP 200)
[0;34m[16:25:17][0m Test 1.2: Missing Authorization header
[0;32m[PASS][0m Missing auth header rejected (HTTP 401)
[0;34m[16:25:17][0m Test 1.3: Malformed Authorization header
[0;32m[PASS][0m Malformed auth header rejected (HTTP 401)
[0;34m[16:25:17][0m Test 1.4: Invalid API key format
[0;32m[PASS][0m Invalid key format rejected (HTTP 401)
[0;34m[16:25:17][0m Test 1.5: Non-existent API key
[0;32m[PASS][0m Non-existent key rejected (HTTP 401)

[0;34m========================================[0m
[0;34mPILLAR 2: CONTENT PUBLISHING & VALIDATION[0m
[0;34m========================================[0m

[0;34m[16:25:17][0m Test 2.1: Valid free post creation
[0;32m[PASS][0m Free post created successfully (HTTP 201)
[0;34m[16:25:20][0m Post ID: bb8356a4-efff-4fb9-8bc8-433723ddf645
[0;34m[16:25:20][0m Test 2.2: Title length validation (201 chars)
[0;32m[PASS][0m Title length validation works (HTTP 400)
[0;34m[16:25:20][0m Test 2.3: Price validation - below minimum (0.04)
[0;32m[PASS][0m Minimum price validation works (HTTP 400)
[0;34m[16:25:21][0m Test 2.4: Price validation - above maximum (1.00)
[0;32m[PASS][0m Maximum price validation works (HTTP 400)
[0;34m[16:25:21][0m Test 2.5: Price format validation (0.5 instead of 0.50)
[0;32m[PASS][0m Price format validation works (HTTP 400)
[0;34m[16:25:22][0m Test 2.6: Tags validation - too many (6 tags)
[0;32m[PASS][0m Maximum tags validation works (HTTP 400)
[0;34m[16:25:22][0m Test 2.7: XSS sanitization - script tag
[0;32m[PASS][0m XSS sanitization works - script tags removed

[0;34m========================================[0m
[0;34mPILLAR 3: x402 PROTOCOL (PAYMENT FLOW)[0m
[0;34m========================================[0m

[0;34m[16:25:24][0m Test 3.1: Create paid post
[0;32m[PASS][0m Paid post created: 5b5ec86d-d3d5-446f-aa72-4a1b5afddd79
[0;34m[16:25:25][0m Test 3.2: Request paid post without payment - expect 402
[0;32m[PASS][0m Unpaid request returns 402 Payment Required
[0;32m[PASS][0m Response contains correct error field
[0;32m[PASS][0m Response contains correct price
[0;32m[PASS][0m Response contains payment_options (1 chains)
[0;34m[16:25:25][0m Test 3.3: Submit invalid payment proof
[0;32m[PASS][0m Invalid payment proof rejected (HTTP 402)
[0;34m[16:25:26][0m Test 3.4: Submit unverified transaction proof
[0;32m[PASS][0m Unverified transaction rejected (HTTP 402)
[0;32m[PASS][0m Response indicates verification failure

[0;34m========================================[0m
[0;34mRATE LIMITING TESTS[0m
[0;34m========================================[0m

[0;34m[16:25:43][0m Test: Publish rate limit for 'new' tier (1 req / 2 hours)
[0;32m[PASS][0m First publish request succeeded (HTTP 201)
[0;31m[FAIL][0m Second publish request not rate limited (HTTP 201)

[0;34m========================================[0m
[0;34mTEST SUMMARY[0m
[0;34m========================================[0m

Total Tests: 22
Passed: 21
Failed: 1
[0;31mSOME TESTS FAILED[0m
Completed: Wed Feb  4 16:25:46 EST 2026
